<!DOCTYPE html>
<html lang="en" class="no-theme">

<head>
    <script>
        // Set the correct theme class before the page renders
        if (localStorage.getItem('theme') === 'dark') {
            document.documentElement.classList.replace('no-theme', 'dark-mode');
        } else {
            document.documentElement.classList.remove('no-theme');
        }
    </script>
    <style>
        /* Hide the page until the theme is determined */
        html.no-theme {
            visibility: hidden;
        }
    </style>

    <link rel="preload" href="../styles/global.css" as="style">
    <link rel="preload" href="../styles/header.css" as="style">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ambient Sound Monitor System</title>
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../styles/global.css">
    <link rel="stylesheet" href="../styles/header.css">
    <link rel="stylesheet" href="../styles/toggle-switch.css">
    <link rel="stylesheet" href="../styles/projects.css">
    <link rel="stylesheet" href="../styles/projects-page.css">
    <link rel="stylesheet" href="../styles/scroll.css">
    <link rel="stylesheet" href="../styles/carousel.css">
</head>

<body>

    <header>
        <div class="back-button">
            <button id="back" aria-label="Back Button">
                <img id="back-icon" src="../icons/back-dark.svg" alt="Back" class="back-icon" />
            </button>
        </div>

        <button type="button" role="switch" aria-checked="true" class="ant-switch" id="theme-toggle">
            <div class="ant-switch-handle"></div>
            <span class="ant-switch-inner">
                <!-- Sun Image for light mode -->
                <img id="sun-icon" src="../icons/sun.svg" alt="Sun" style="width: 20px; height: 20px;">
                <!-- Moon Image for dark mode -->
                <img id="moon-icon" src="../icons/moon.svg" alt="Moon" style="width: 20px; height: 20px; display: none;">
            </span>
        </button>
    </header>


    <section id="project-page">
        <h2>Ambient Sound Monitor System</h2>

        <div class="pdf-container">
            <a href="https://github.com/jay-junjiewu/ambient-sound-monitor-system-xylyrnth" target="_blank" rel="noopener noreferrer" class="pdf-link">
                GitHub Link
            </a>
        </div>

        <p>This project is an intelligent ambient sound monitoring system (aka Xylyrnth) designed for the smartwatch market, targeting users who may struggle to stay aware of their surroundings or frequently operate in noisy environments. The system leverages advanced real-time processing to detect key sounds and deliver alerts through haptic and visual feedback.</p>

        <h3>System Overview</h3>

        <p>Xylyrnth is built around two custom ESP32 hardware boards, programmed entirely in low-level embedded C to ensure optimal performance and precise control. These boards communicate via Bluetooth and perform tightly synchronized tasks:</p>

        <h4>The Master</h4>

        <ul class="ps2-list">
        <li>Captures real-time audio data through an integrated microphone.</li>
        <li>Implements Fast Fourier Transform (FFT) and additional digital signal processing techniques to analyze and identify key sounds in real time.</li>
        <li>Provides immediate alerts through haptic feedback, offering an intuitive way for users to stay informed of critical sounds.</li>
        </ul>

        <h4>The Slave</h4>

        <ul class="ps2-list">
        <li>Offers an intuitive interface for users to configure which sounds are detected and how alerts are delivered.</li>
        <li>Operates an LCD display controlled in real time, displaying user settings and system information dynamically.</li>
        </ul>

        <h3>Technical Details</h3>

        <p>The firmware is structured around <strong>FreeRTOS</strong>, enabling parallel processing across multiple real-time tasks, including:</p>

        <ul class="ps2-list">
        <li>Acquiring audio data.</li>
        <li>Performing real-time DSP.</li>
        <li>Managing Bluetooth communication.</li>
        <li>Updating the LCD display seamlessly.</li>
        </ul>

        <p>By using low-level embedded C programming, Xylyrnth achieves precise control over hardware resources, ensuring efficient and reliable performance for all system functions. This design highlights the system's ability to tackle complex, real-time operations within the constraints of embedded systems.</p>

        <h3>Operating Principle</h3>

        <p>The system architecture and operation are illustrated below:</p>

        <div class="hover-container">
            <img src="../assets/project-s2/operating_flowchart.png" class="image-pe1-1" />
        </div>

        <h3>Hardware</h3>

        <p>
            Here is the custom PCB which I designed and assembled for this project.
        </p>

        <div class="hover-container">
            <img src="../assets/project-s2/real-pcb.jpg" class="image-ps2-1" />
        </div>

        <p>
            This is a 4-layer PCB designed in <strong>Altium Designer</strong>. The design employs advanced grounding techniques to minimize noise interference, specifically between the Bluetooth antenna and the digital sections, ensuring accurate signal measurements and stable operation. The design is purely digital, focusing on efficient power management, signal integrity, and minimizing electromagnetic interference (EMI).
        </p>

        <div class="image-carousel">
            <div class="carousel-slide">
                <img src="../assets/project-s2/pcb2d.png">
                <img src="../assets/project-s2/pcbfull.png">
                <img src="../assets/project-s2/pcbpower.png">
            </div>

            <button class="carousel-button left" aria-label="Previous Image">&#10094;</button>
            <button class="carousel-button right" aria-label="Next Image">&#10095;</button>
        </div>
        <div class="carousel-dots">
            <!-- Dots will be dynamically added here -->
        </div>

        <p>
            I have attached the full schematic diagram and the Altium Draftsman files below, which include detailed layout designs, component annotations, BOM, layer stack management, and more.
        </p>

        <div class="pdf-container">
            <a href="../assets/project-s2/Project_Xylyrnth.pdf" target="_blank" rel="noopener noreferrer" class="pdf-link">
                Altium Scheamtic and Draftsman Download
            </a>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script src="../scripts/theme-toggle.js" defer></script>
    <script src="../scripts/scroll.js" defer></script>
    <script src="../scripts/back.js" defer></script>
    <script src="../scripts/carousel.js" defer></script>
    <script src="../scripts/swipe.js" defer></script>

</body>
</html>


